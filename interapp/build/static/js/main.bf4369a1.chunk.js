(this.webpackJsonpJohnsList=this.webpackJsonpJohnsList||[]).push([[0],{16:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},60:function(e,t){},66:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),r=n.n(s),a=n(31),i=n.n(a),o=(n(50),n(4)),l=n.n(o),d=n(11),j=n(6);n(52),n(16);var b=function(e){var t=e.user;return Object(c.jsx)("header",{children:Object(c.jsx)("div",{className:"container",id:"maincontent",children:Object(c.jsxs)("div",{className:"mb-6 testb d-flex flex-column flex-md-row p-3 px-md-4 mb-3 border-bottom nav-header",children:[Object(c.jsxs)("a",{href:"#maincontent",class:"skip-link",children:[" ","Skip to main content"," "]}),Object(c.jsx)("h1",{className:"my-0 mr-md-auto font-weight-normal",children:"JohnsList"}),Object(c.jsx)("nav",{className:"my-2 my-md-0 mr-md-3",children:t?Object(c.jsxs)("div",{children:[" ",Object(c.jsx)("a",{className:"p-2 text-dark",href:"/",children:"Apartments"}),Object(c.jsxs)("a",{className:"text-dark",href:"/perslist",children:[t,"'s List"]}),Object(c.jsx)("form",{action:"/logout",method:"post",children:Object(c.jsx)("button",{type:"submit",className:" btn btn-lg btn-block btn-outline-primary",children:"Log Out"})})]}):Object(c.jsx)("a",{className:"p-2 text-dark",href:"/login",children:"Login"})})]})})})},h=n(38);var u=function(e){var t=Object(s.useState)([]),n=Object(j.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)([]),o=Object(j.a)(i,2),b=o[0],u=(o[1],e.apartments);console.log("In here",u);var m=function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(e.apartments),console.log("Got apt Data",r);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){m()}),[b]);for(var p=[{text:"Loading",value:1}],x=0,O=Object.keys(u);x<O.length;x++){var f,v,g=O[x];if(u[g].titletextonly)!function(){var e=u[g].titletextonly.split(" ");for(f=0;f<e.length;f++)if(e[f]=e[f].replace(/[^A-Za-z]+/g,""),e[f])if(void 0===p.find((function(t){return t.text===e[f].toLowerCase()}))){if(e[f].length>2){var t={text:e[f].toLowerCase(),value:100};p.push(t)}}else for(v=0;v<p.length;v++)p[v].text===e[f]&&(p[v].value=p[v].value+10)}()}return Object(c.jsx)("div",{className:"container",id:"maincontent4",children:Object(c.jsx)("div",{className:"card-deck mb-3 text-center",children:Object(c.jsx)("div",{className:"card mb-6 shadow-sm",children:Object(c.jsx)(h.a,{words:p,size:[1100,300],options:{rotations:0,rotationAngles:[0,0],padding:0,fontWeight:"bold",fontSizes:[24,85],transitionDuration:1e3}})})})})};var m=function(e){var t=Object(s.useState)([]),n=Object(j.a)(t,2),r=n[0],a=n[1],i=Object(s.useState)([]),o=Object(j.a)(i,2),b=o[0],h=(o[1],Object(s.useState)("")),u=Object(j.a)(h,2),m=u[0],p=u[1];console.log("Get apartment props",e.apartments),e.apartments;var x=function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(e.apartments),console.log("Got apt Data",r);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(s.useEffect)((function(){x()}),[b]);var O=Object(s.useState)(0),f=Object(j.a)(O,2),v=f[0],g=f[1],N=6*v,y=6*v+6;console.log("ins ",N,y,v);var w=e.apartments.filter((function(e){return null!==e.price&&e.price.replace(",","").includes(m)||null!==e.titletextonly&&e.titletextonly.toLowerCase().includes(m.toLowerCase())||null!==e.housing&&e.housing.toLowerCase().includes(m.toLowerCase())}));return Object(c.jsx)("main",{className:"container-fluid full-height main-background",children:Object(c.jsx)("div",{className:"container",id:"maincontent",children:Object(c.jsx)("div",{className:"card-deck mb-3 text-center",children:Object(c.jsxs)("div",{className:"card mb-6 shadow-sm",children:[Object(c.jsx)("div",{className:"card-header",children:Object(c.jsx)("h2",{className:"my-0 font-weight-normal",children:"Apartments"})}),Object(c.jsxs)("table",{id:"dataTable",class:"table table-striped table-bordered table-sm",cellspacing:"0",width:"100%",height:"400px",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{class:"th-sm",children:"Title"}),Object(c.jsx)("th",{class:"th-sm",children:"Rooms"}),Object(c.jsx)("th",{class:"th-sm",children:"Price"}),Object(c.jsx)("th",{class:"th-sm",children:"Track Apartment"})]})}),Object(c.jsx)("tbody",{children:w.slice(N,y).map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.titletextonly}),Object(c.jsx)("td",{children:e.housing}),Object(c.jsx)("td",{children:e.price}),Object(c.jsx)("td",{children:Object(c.jsx)("form",{children:Object(c.jsx)("div",{class:"padding-std",children:Object(c.jsx)("button",{type:"submit",onClick:function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/followpost",{method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({title:e.titletextonly.slice(0,35),rooms:e.housing.slice(0,20),address:e.mapaddress.slice(0,20),price:e.price,notes:""})});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),className:"btn btn-lg btn-block btn-outline-primary",children:"Add"})})})})]})}))})]}),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{style:{float:"left"},children:[Object(c.jsx)("button",{onClick:function(){return g(v-1<0?0:v-1)},children:" Prev "}),Object(c.jsx)("button",{onClick:function(){return g(v+1)},children:"Next"})]}),Object(c.jsxs)("div",{style:{float:"right"},children:[Object(c.jsx)("label",{children:"Search:"}),Object(c.jsx)("input",{type:"text",id:"myInput",onChange:function(e){return p(e.target.value)},placeholder:"Search Here"})]})," "]})]})})})})};var p=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1];console.log("What ahppend");var a=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/plist").then((function(e){return e.json()}));case 3:t=e.sent,console.log("got posts 2",t),r(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){a()}),[]),console.log("apart",n),Object(c.jsx)("div",{className:"container",children:n.map((function(e){return Object(c.jsxs)("div",{className:"card mb-3 shadow-sm w-50",children:[Object(c.jsx)("div",{className:"card-header",children:Object(c.jsx)("h2",{className:"my-0 font-weight-normal",children:e.title})}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("form",{action:"/updateNotes",method:"Post",children:[Object(c.jsx)("div",{className:"form-group row",children:Object(c.jsxs)("h3",{children:[" Address : ",e.address,"  "]})}),Object(c.jsx)("div",{className:"form-group row",children:Object(c.jsxs)("h3",{children:[" Rooms : ",e.rooms,"  "]})}),Object(c.jsx)("div",{className:"form-group row",children:Object(c.jsxs)("h3",{children:[" Price : ",e.price,"  "]})}),Object(c.jsx)("div",{className:"form-group row",children:Object(c.jsxs)("h3",{children:[" Notes : ",e.notes,"  "]})}),Object(c.jsxs)("div",{className:"form-group row",children:[Object(c.jsx)("label",{for:"appliedDate4",className:"col-4 control-label",style:{textAlign:"left"},children:"Notes"}),Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsx)("input",{className:"form-control",id:"idtitle",name:"title",type:"hidden",value:e.title}),Object(c.jsx)("textarea",{className:"form-control",id:"appliedDate4",name:"notes"})]})]}),Object(c.jsx)("div",{class:"padding-std",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-lg btn-block btn-outline-primary",children:"Add Note"})})]}),Object(c.jsx)("form",{children:Object(c.jsx)("div",{class:"padding-std",children:Object(c.jsx)("button",{type:"submit",onClick:function(){var t=Object(d.a)(l.a.mark((function t(n){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/delfollow",{method:"POST",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({title:e.title.slice(0,35)})});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),className:"btn btn-lg btn-block btn-outline-primary",children:"Remove"})})})]})]})}))})};var x=function(){return Object(c.jsx)("main",{className:"container-fluid full-height main-background",children:Object(c.jsx)("div",{className:"container",id:"maincontent",children:Object(c.jsxs)("div",{className:"card mb-3 shadow-sm",children:[Object(c.jsx)("div",{className:"card-header",children:Object(c.jsx)("h2",{className:"my-0 font-weight-normal",children:"Enter Credentials"})}),Object(c.jsxs)("form",{action:"/login",method:"post",children:[Object(c.jsx)("div",{children:Object(c.jsxs)("label",{children:["Username: ",Object(c.jsx)("input",{type:"text",name:"username"})]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("label",{children:["Password:   ",Object(c.jsx)("input",{type:"password",name:"password"})]})}),Object(c.jsx)("button",{type:"submit",children:"Login"})]})]})})})},O=n(24),f=n(3);var v=function(){var e=Object(s.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],a=function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting Apartments"),e.prev=1,e.next=4,fetch("/calendar").then((function(e){return e.json()}));case 4:t=e.sent,console.log("got posts",t),r(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("error ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){a()}),[]);var i=Object(s.useState)(null),o=Object(j.a)(i,2),h=o[0],v=o[1];return Object(s.useEffect)((function(){fetch("/getUser").then((function(e){return e.json()})).then((function(e){e.username&&v(e.username)}))}),[]),console.log("User Name",h),Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(b,{user:h}),Object(c.jsx)(O.a,{children:Object(c.jsxs)(f.c,{children:[Object(c.jsx)(f.a,{path:"/perslist",children:Object(c.jsx)(p,{})}),Object(c.jsx)(f.a,{path:"/login",children:Object(c.jsx)(x,{})}),Object(c.jsxs)(f.a,{path:"/",children:[Object(c.jsx)(u,{apartments:n}),Object(c.jsx)(m,{apartments:n})]})]})})]})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,74)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root")),g()}},[[66,1,2]]]);
//# sourceMappingURL=main.bf4369a1.chunk.js.map